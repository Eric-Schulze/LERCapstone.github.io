let rp = require('request-promise');

var questions = {
    number: null,
    difficulty:null,
    
    getQuestions: function() {
        return rp({
            method: 'GET',
            uri: 'https://us-central1-questionserver-5824f.cloudfunctions.net/getQuestions',
            qs: {
                number:questions.number,
                difficulty:questions.difficulty
            },
            json: true
        })
    }
  }

module.exports = {
    DIFFICULTY_EASY: 1,
    DIFFICULTY_MEDIUM: 2,
    DIFFICULTY_HARD: 3,
    retrieveQuiz: function(number, difficulty, callback){
        var req = performRequest(number, difficulty);
        req.then(callback);
    }
}

function performRequest(number, difficulty){
    questions.number = number;
    questions.difficulty = difficulty;
    return questions.getQuestions();
}