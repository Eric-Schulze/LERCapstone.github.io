'use strict';

const express = require('express');
let questionsLoader = require('./../QuestionsLoader');

const requestApp = express();

requestApp.get('*', function (req, res) {
    var thing = function(result){
        var stuff = result;
        console.log("%j", stuff);
        res.send(stuff);
    };

    questionsLoader.retrieveQuiz(5, questionsLoader.DIFFICULTY_EASY, thing);
});

// Used for testing locally
requestApp.listen(8000);

// Used to export to Firebase
// exports.getQuestions = functions.https.onRequest((req, res) => {
	
// 	// https://some-firebase-app-id.cloudfunctions.net/route
// 	// without trailing "/" will have req.path = null, req.url = null
// 	// which won't match to your app.get('/', ...) route 
	
// 	if (!req.path) {
		
// 		// prepending "/" keeps query params, path params intact
// 		req.url = `/${req.url}`
	
// 	}
// 	return requestApp(req, res)
// });